{% load widget_tweaks %}
<!-- CARDS SETUP FORM -->
{% if form.non_field_errors %}
<div class="text-danger">{{ form.non_field_errors }}</div>
{% endif %}
<div class="mb-3">
  <label for="exampleFormControlInput1" class="form-label">{{ form.name.label }}{{ form.name.errors }}</label>
  {{ form.name|add_class:"form-control form-control-sm" }}
</div>

<div class="mb-3">
  <label for="exampleFormControlTextarea1" class="form-label">{{ form.cards.label }}{{ form.cards.errors }}</label>

  <div class="float-sm-end">
  <button class="btn btn-sm btn-secondary" onclick="selectAll()">Select all</button>
  <button class="btn btn-sm btn-secondary" onclick="clearSelected()">Clear all</button>
  </div>
  {{ form.cards|add_class:"form-select form-select-sm font-monospace"|attr:"multiple" }}
</div>
<script>
function selectAll(){
  var elements = document.getElementById("{{ form.cards.id_for_label }}").options;

  for(var i = 0; i < elements.length; i++){
    elements[i].selected = true;
  }
}

function clearSelected(){
  var elements = document.getElementById("{{ form.cards.id_for_label }}").options;

  for(var i = 0; i < elements.length; i++){
    elements[i].selected = false;
  }
}
</script>
<!-- END of CARDS SETUP -->
