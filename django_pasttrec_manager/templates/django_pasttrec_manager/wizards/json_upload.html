{% extends 'django_pasttrec_manager/base.html' %}
{% load i18n filters mathfilters %}

{% block head_extra %}
{{ wizard.form.media }}
{% endblock %}

{% block content %}
<div class="container">

<div class="row">
<div class="col">

<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item" aria-current="page"><a href="{% url 'passtrec_trb3setup:index' %}">Home</a></li>
    <li class="breadcrumb-item active" >{{ setup.name }}</li>
  </ol>
</nav>

<!-- WIZZARD -->
{% if wizard_title %}
<h3>{{ wizard_title }}</h3>
{% endif %}
<h5>Step {{ wizard.steps.step1 }} of {{ wizard.steps.count }}
{% if slide_title %}
: {{ slide_title }}
{% endif %}
</h5>

<div class="progress">
  <div class="progress-bar bg-warning" role="progressbar" style="width: {{ 100.0|div:wizard.steps.count|mul:wizard.steps.step1 }}%;" aria-valuenow="{{ wizard.steps.step1 }}" aria-valuemin="0" aria-valuemax="{{ wizard.steps.count }}"></div>
</div>
<hr>

<form action="{% url form_url %}" method="post" enctype="multipart/form-data">
  {% csrf_token %}

  {{ wizard.management_form }}
  {{ wizard.form.non_field_errors }}

  <div class="hstack gap-3">
    {{ wizard.form.file.label_tag }}
    {{ wizard.form.file }}{{ wizard.form.creation_on.errors }}
    <button type="submit" class="btn btn-primary">Submit</button>
    <div class="vr"></div>
    <button type="reset" class="btn btn-outline-danger">Reset</button>
  </div>

  {% if wizard.steps.prev %}
  <button name="wizard_goto_step" type="submit" value="{{ wizard.steps.first }}">{% trans "first step" %}</button>
  <button name="wizard_goto_step" type="submit" value="{{ wizard.steps.prev }}">{% trans "prev step" %}</button>
  {% endif %}

</form>
<!-- WIZZARD -->

</div>
</div>

</div>
{% endblock %}
